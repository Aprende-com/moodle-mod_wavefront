define ("mod_wavefront/ARButton",["exports"],function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.ARButton=void 0;function b(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function c(a){return function(){var c=this,d=arguments;return new Promise(function(e,f){var i=a.apply(c,d);function g(a){b(i,e,f,g,h,"next",a)}function h(a){b(i,e,f,g,h,"throw",a)}g(void 0)})}}function d(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function e(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function f(a,b,c){if(b)e(a.prototype,b);if(c)e(a,c);return a}var g=function(){function a(){d(this,a)}f(a,null,[{key:"createButton",value:function createButton(a){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},h=document.createElement("button");function b(){if(g.domOverlay===void 0){var f=document.createElement("div");f.style.display="none";document.body.appendChild(f);var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width",38);i.setAttribute("height",38);i.style.position="absolute";i.style.right="20px";i.style.top="20px";i.addEventListener("click",function(){k.end()});f.appendChild(i);var j=document.createElementNS("http://www.w3.org/2000/svg","path");j.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28");j.setAttribute("stroke","#fff");j.setAttribute("stroke-width",2);i.appendChild(j);if(g.optionalFeatures===void 0){g.optionalFeatures=[]}g.optionalFeatures.push("dom-overlay");g.domOverlay={root:f}}var k=null;function b(){return d.apply(this,arguments)}function d(){d=c(regeneratorRuntime.mark(function b(c){return regeneratorRuntime.wrap(function(b){while(1){switch(b.prev=b.next){case 0:c.addEventListener("end",e);a.xr.setReferenceSpaceType("local");b.next=4;return a.xr.setSession(c);case 4:h.textContent="STOP AR";g.domOverlay.root.style.display="";k=c;case 7:case"end":return b.stop();}}},b)}));return d.apply(this,arguments)}function e(){k.removeEventListener("end",e);h.textContent="START AR";g.domOverlay.root.style.display="none";k=null}h.style.display="";h.style.cursor="pointer";h.style.left="calc(50% - 50px)";h.style.width="100px";h.textContent="START AR";h.onmouseenter=function(){h.style.opacity="1.0"};h.onmouseleave=function(){h.style.opacity="0.5"};h.onclick=function(){if(null===k){navigator.xr.requestSession("immersive-ar",g).then(b)}else{k.end()}}}function d(){h.style.display="";h.style.cursor="auto";h.style.left="calc(50% - 75px)";h.style.width="150px";h.onmouseenter=null;h.onmouseleave=null;h.onclick=null}function e(){d();h.textContent="AR NOT SUPPORTED"}function f(a){a.style.position="absolute";a.style.bottom="20px";a.style.padding="12px 6px";a.style.border="1px solid #fff";a.style.borderRadius="4px";a.style.background="rgba(0,0,0,0.1)";a.style.color="#fff";a.style.font="normal 13px sans-serif";a.style.textAlign="center";a.style.opacity="0.5";a.style.outline="none";a.style.zIndex="999"}if("xr"in navigator){h.id="ARButton";h.style.display="none";f(h);navigator.xr.isSessionSupported("immersive-ar").then(function(a){a?b():e()}).catch(e);return h}else{var i=document.createElement("a");if(!1===window.isSecureContext){i.href=document.location.href.replace(/^http:/,"https:");i.innerHTML="WEBXR NEEDS HTTPS"}else{i.href="https://immersiveweb.dev/";i.innerHTML="WEBXR NOT AVAILABLE"}i.style.left="calc(50% - 90px)";i.style.width="180px";i.style.textDecoration="none";f(i);return i}}}]);return a}();a.ARButton=g});
//# sourceMappingURL=ARButton.min.js.map
