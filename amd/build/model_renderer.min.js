function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("mod_wavefront/model_renderer",["exports","mod_wavefront/WebGL","mod_wavefront/three","mod_wavefront/MTLLoader","mod_wavefront/OBJLoader","mod_wavefront/OrbitControls","jquery"],function(a,b,c,d,e,f,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=j(b);c=i(c);g=j(g);function h(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;h=function(){return a};return a}function i(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=h();if(b&&b.has(a)){return b.get(a)}var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a){if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;if(f&&(f.get||f.set)){Object.defineProperty(c,e,f)}else{c[e]=a[e]}}}c.default=a;if(b){b.set(a,c)}return c}function j(a){return a&&a.__esModule?a:{default:a}}var k=[],l=[],m=[],n=[],o=[],p=[],q=[],r=[],s=[],t=[],u=[],v=window.innerWidth/2,w=window.innerHeight/2,x=function(){n.forEach(function(a,b){a.render(m[b],k[b]);l[b].update()});requestAnimationFrame(x)},y=function(a){if(!b.default.isWebGLAvailable()){var h=b.default.getWebGLErrorMessage();document.getElementById("container").appendChild(h);return!0}console.log(a);a.forEach(function(a){var b=document.getElementById(a);console.log(b);o.push(b);var h=(0,g.default)(b).attr("data-stagewidth");console.log(h);p.push(h);var i=(0,g.default)(b).attr("data-stageheight");console.log(i);q.push(i);var j=(0,g.default)(b).attr("data-cameraangle");console.log(j);var v=(0,g.default)(b).attr("data-camerafar");console.log(v);var w=(0,g.default)(b).attr("data-camerax");console.log(w);var y=(0,g.default)(b).attr("data-cameray");console.log(y);var z=(0,g.default)(b).attr("data-cameraz");console.log(z);var A=(0,g.default)(b).attr("data-mtl");console.log(A);var B=decodeURIComponent(A);console.log(B);var C=(0,g.default)(b).attr("data-obj");console.log(C);var D=decodeURIComponent(C);console.log(D);var E=new d.MTLLoader;E.load(B,function(a){a.preload();var d=new e.OBJLoader;d.setMaterials(a);d.load(D,function(a){var d=new c.Scene;m.push(d);var e=new c.PerspectiveCamera(+j,h/i,.1,+v);k.push(e);d.add(e);e.position.set(+w,+y,+z);var g=new c.AmbientLight(16777215,1);r.push(g);d.add(g);var o=new c.DirectionalLight(new c.Color("hsl(30, 100%, 75%)"),1);s.push(o);o.position.set(-100,0,100);var p=new c.DirectionalLight(new c.Color("hsl(240, 100%, 75%)"),.75);t.push(p);p.position.set(100,0,100);var q=new c.DirectionalLight(16777215,1);u.push(q);q.position.set(100,0,-100).normalize();d.add(o);d.add(p);d.add(q);d.add(a);var A=new c.WebGLRenderer;A.setPixelRatio(window.devicePixelRatio);A.setSize(h,i);A.setClearColor(new c.Color("hsl(0, 0%, 10%)"));n.push(A);b.appendChild(A.domElement);var B=new f.OrbitControls(e,A.domElement);B.enableDamping=!0;B.dampingFactor=.25;l.push(B);window.addEventListener("keydown",function(a){a.stopPropagation();if("KeyL"===a.code){lighting=!lighting;if(lighting){g.intensity=.25;d.add(o);d.add(p);d.add(q)}else{g.intensity=1;d.remove(o);d.remove(p);d.remove(q)}}},!1);x()})})})};a.init=y});
//# sourceMappingURL=model_renderer.min.js.map
